# CPU或者GPU超过温度导致的重启
客户碰到过老化的时候，由于cpu或者gpu温度过高，导致的重启，且重启过程中在uboot阶段由于pmu温度检测导致机器反复在uboot阶段重启，这样会导致温度降不下来。所以需要拔掉电源，过一会儿重新上电，机器这时候又可以正常开机了。
对应的串口信息如下
![串口信息](images/CPU%E6%88%96%E8%80%85GPU%E8%B6%85%E8%BF%87%E6%B8%A9%E5%BA%A6%E5%AF%BC%E8%87%B4%E7%9A%84%E9%87%8D%E5%90%AF/C6088F65-844E-4837-8881-A81AF5D908AA.png)

上面信息表示温度超过110度,导致机器重启。关于哪个地方限定的这个110度，最开始我找到的是`android/hardware/aw/thermal/thermal.c`中的代码，后来发现修改这个文件没有用，后面跟踪代码，跟踪到内核
`drivers/thermal/thermal_core.c`中，后面再跟踪的话我跟踪到dts中配置的限温值了。修改dts中的值，修改生效。当然这需要配合ic规格书来改，一般情况不建议修改。
![串口信息](images/CPU%E6%88%96%E8%80%85GPU%E8%B6%85%E8%BF%87%E6%B8%A9%E5%BA%A6%E5%AF%BC%E8%87%B4%E7%9A%84%E9%87%8D%E5%90%AF/585471C1-99ED-4EE2-8909-451A692D6BBC.png)